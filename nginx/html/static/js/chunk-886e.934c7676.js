(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-886e"],{Iz8w:function(t,e,a){"use strict";a.r(e);var r=a("QbLZ"),n=a.n(r),s=a("W0id"),o={brandName:"",brandLogoUrl:"/static/default.jpg"},i={data:function(){return{trademark:o,saveBtnDisabled:!1,BASE_API:"http://127.0.0.1:80"}},watch:{$route:function(t,e){console.log("路由变化......"),console.log(t),console.log(e),this.init()}},created:function(){console.log("form created ......"),this.init()},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var t=this.$route.params.id;this.fetchDataById(t)}else this.trademark=n()({},o)},saveOrUpdate:function(){this.saveBtnDisabled=!0,this.trademark.id?this.updateData():this.saveData()},saveData:function(){var t=this;s.a.save(this.trademark).then(function(e){e.code&&(t.$message({type:"success",message:e.message}),t.$router.push({path:"/baseinfo/trademark/list"}))})},updateData:function(){var t=this;s.a.updateById(this.trademark).then(function(e){e.code&&(t.$message({type:"success",message:e.message}),t.$router.push({path:"/baseinfo/trademark/list"}))})},fetchDataById:function(t){var e=this;s.a.getById(t).then(function(t){e.trademark=t.data})},handleImageUrlSuccess:function(t){this.trademark.brandLogoUrl=t.data},beforeImageUrlUpload:function(t){}}},d=a("KHd+"),u=Object(d.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.trademark.brandName,callback:function(e){t.$set(t.trademark,"brandName",e)},expression:"trademark.brandName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":t.handleImageUrlSuccess,"before-upload":t.beforeImageUrlUpload,action:"http://api.gmall.com/product/brand/fileUpload"}},[a("img",{attrs:{src:t.trademark.brandLogoUrl}})])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:t.saveOrUpdate}},[t._v("保存")])],1)],1)],1)},[],!1,null,null,null);u.options.__file="form.vue";e.default=u.exports},W0id:function(t,e,a){"use strict";var r=a("t3Un"),n="/product/brand";e.a={getPageList:function(t,e){return Object(r.a)({url:n+"/queryBrandByPage/"+t+"/"+e,method:"get"})},getById:function(t){return Object(r.a)({url:n+"/"+t,method:"get"})},save:function(t){return Object(r.a)({url:""+n,method:"post",data:t})},updateById:function(t){return Object(r.a)({url:""+n,method:"put",data:t})},removeById:function(t){return Object(r.a)({url:n+"/"+t,method:"delete"})}}},t3Un:function(t,e,a){"use strict";var r=a("4d7F"),n=a.n(r),s=a("vDqi"),o=a.n(s).a.create({baseURL:"http://127.0.0.1:80",timeout:5e3});o.interceptors.response.use(function(t){return t.data},function(t){return console.log("err"+t),n.a.reject(t)}),e.a=o}}]);